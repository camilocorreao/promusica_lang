{{ $recent := where site.RegularPages "Type" "posts" | first (site.Params.recentPosts | default 5) }}

{{ if $recent }}
    <div class="widget widget--recent-posts"></div>
        <h3 class="widget__headinng">Recent Posts</h3>
        <ul class="widget">
        {{ range $recent }}
            <li class="widget"><a class="widget" href="{{ .RelPermalink }}">
                <div>{{ .Title }}</div>
                {{ with .PublishDate }} 
                <small class="text-muted">
                    <time datetime="{{ .Format "2006-01-02" }}">{{ .Format site.Params.dateFormat }}</time>
                </small>
                {{ end }}
            </a></li>
        {{ end }}
        </ul>
{{ end }}